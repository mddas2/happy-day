{% extends 'layout/master.html' %}
{% load staticfiles %}
{% load my_tags %}

{% block contents %}  
<div class="main-container container">
    <ul class="breadcrumb">
        <li><a href="#"><i class="fa fa-home"></i></a></li>
        <li><a href="#">Shopping Cart</a></li>
    </ul>
    
    <div class="row">
        <!--Middle Part Start-->
    <div id="content" class="col-sm-12">
      <h2 class="title">Shopping Cart</h2>
        <div class="table-responsive form-group">
          <table class="table table-bordered">
            <thead>
              <tr>
                <td class="text-center">Image</td>
                <td class="text-left">Product Name</td>
                <td class="text-left">Model</td>
                <td class="text-left">Quantity</td>
                <td class="text-right">Free Membership</td>
                <!-- <td class="text-right">Members Price</td> -->
                <td class="text-right">Total</td>
              </tr>
            </thead>
            <tbody>
                {% for cart in cart_data %}
                    <tr>
                        <td class="text-center"><a href="product.html"><img width="70px" src="{{cart.image}}" alt="Aspire Ultrabook Laptop" title="Aspire Ultrabook Laptop" class="img-thumbnail" /></a></td>
                        <td class="text-left"><a href="product.html">{{cart.product_name}}</a><br />
                        </td>
                        <td class="text-left">{{cart.brand}}</td>
                        <td class="text-left" width="200px"><div class="input-group btn-block quantity">
                            <input type="text" name="quantity" value="{{cart.quantity}}" size="1" class="form-control" />
                            <span class="input-group-btn">
                            <button type="submit" data-toggle="tooltip" title="Update" class="btn btn-primary"><i class="fa fa-clone"></i></button>
                            <button type="button" data-toggle="tooltip" title="Remove" class="btn btn-danger" onClick=""><i class="fa fa-times-circle"></i></button>
                            </span></div></td>
                        <td class="text-right">{{cart.free_membership_price}}</td>
                        <td class="text-right">{{cart.free_membership_price}}</td>

                    </tr>   
                {% endfor %}          
            </tbody>
          </table>
        </div>
      
    
    <div class="row">
        <div class="col-sm-4 col-sm-offset-8">
            <table class="table table-bordered">
                <tbody>
                    <!-- <tr>
                        <td class="text-right">
                            <strong>Sub Total:</strong>
                        </td>
                        <td class="text-right">{% calculate_cart_price request %}</td>
                    </tr> -->
                    <!-- <tr>
                        <td class="text-right">
                            <strong>Flat Shipping Rate:</strong>
                        </td>
                        <td class="text-right">$4.69</td>
                    </tr>
                    <tr>
                        <td class="text-right">
                            <strong>Eco Tax (-2.00):</strong>
                        </td>
                        <td class="text-right">$5.62</td>
                    </tr>
                    <tr>
                        <td class="text-right">
                            <strong>VAT (20%):</strong>
                        </td>
                        <td class="text-right">$34.68</td>
                    </tr> -->
                    <tr>
                        <td class="text-right">
                            <strong>Total:</strong>
                        </td>
                        <td class="text-right">{% calculate_cart_price request %}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

     <div class="buttons">
        <div class="pull-left"><a href="index.html" class="btn btn-primary">Continue Shopping</a></div>
        <div class="pull-right"><a href="checkout.html" class="btn btn-primary">Checkout</a></div>
      </div>
    </div>
    <!--Middle Part End -->
        
    </div>
</div>
{% endblock %}

{% block header %}
    {% include 'partials/header.html' %}
{% endblock %}

{% block footer %}
    {% include 'partials/footer.html' %}
{% endblock %}


{% block jscontents %}
{% load staticfiles %}
   <!-- Include Libs & Plugins
    ============================================ -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" src="{% static 'assets_web/js/jquery-2.2.4.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets_web/js/bootstrap.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets_web/js/owl-carousel/owl.carousel.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets_web/js/slick-slider/slick.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets_web/js/themejs/libs.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets_web/js/unveil/jquery.unveil.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets_web/js/countdown/jquery.countdown.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets_web/js/dcjqaccordion/jquery.dcjqaccordion.2.8.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets_web/js/datetimepicker/moment.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets_web/js/datetimepicker/bootstrap-datetimepicker.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets_web/js/jquery-ui/jquery-ui.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets_web/js/modernizr/modernizr-2.6.2.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets_web/js/minicolors/jquery.miniColors.min.js' %}"></script>

    <!-- Theme files
    ============================================ -->

    <script type="text/javascript" src="{% static 'assets_web/js/themejs/application.js' %}"></script>

    <script type="text/javascript" src="{% static 'assets_web/js/themejs/homepage.js' %}"></script>

    <script type="text/javascript" src="{% static 'assets_web/js/themejs/toppanel.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets_web/js/themejs/so_megamenu.js' %}"></script>
    <script type="text/javascript" src="{% static 'assets_web/js/themejs/addtocart.js' %}"></script>

    <script>
      //---------------------Stars Start----------------------------------
      // Select all elements with the "i" tag and store them in a NodeList called "stars"
      const stars = document.querySelectorAll(".stars i");
    
      // Loop through the "stars" NodeList
      stars.forEach((star, index1) => {
        // Add an event listener that runs a function when the "click" event is triggered
        star.addEventListener("click", () => {
          var count_stars = 0;
          // Loop through the "stars" NodeList Again
          stars.forEach((star, index2) => {
            // Add the "active" class to the clicked star and any stars with a lower index
            // and remove the "active" class from any stars with a higher index
            index1 >= index2 ? star.classList.add("active") : star.classList.remove("active");
            if(index1 >= index2)
              count_stars++
            });
            //alert(count_stars);
            document.getElementById("n_stars").value = count_stars-20;
        });
      });

      //---------------------Stars Start End----------------------------------
    </script>
{% endblock %}
